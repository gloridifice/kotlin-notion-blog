<html>
  <head lang="zh_CN">
    <meta http-equiv="Content-Type" content="charset=utf-8">
    <script src="/assets/js/header.js"></script>
    <link rel="stylesheet" href="/assets/css/root.css">
    <link rel="stylesheet" href="/assets/css/layout.css">
    <link rel="stylesheet" href="/assets/css/post.css">
    <title>☁️ UI 设计与开发经验 [Unity] 2023.2.8 版</title>
  </head>
  <body>
    <div class="header">
      <div class="navbar">
        <div class="navbar_item" onclick="window.location='/home.html'"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none" version="1.1" width="21" height="20.999996185302734" viewBox="0 0 21 20.999996185302734"><defs><clipPath id="master_svg0_9_0235"><rect x="0" y="0" width="21" height="20.999996185302734" rx="0"/></clipPath></defs><g clip-path="url(#master_svg0_9_0235)"><g><path d="M9.9628,1.059317C10.27877,0.8135611,10.7212,0.8135611,11.03716,1.059317C11.03716,1.059317,18.9122,7.18432,18.9122,7.18432C19.1253,7.35009,19.25,7.60498,19.25,7.875C19.25,7.875,19.25,17.5,19.25,17.5C19.25,18.1962,18.9734,18.8639,18.4811,19.3561C17.9889,19.8484,17.321199999999997,20.125,16.625,20.125C16.625,20.125,4.375,20.125,4.375,20.125C3.67881,20.125,3.01113,19.8484,2.518845,19.3561C2.026561,18.8639,1.75,18.1962,1.75,17.5C1.75,17.5,1.75,7.875,1.75,7.875C1.75,7.60498,1.874664,7.35009,2.087802,7.18432C2.087802,7.18432,9.9628,1.059317,9.9628,1.059317C9.9628,1.059317,9.9628,1.059317,9.9628,1.059317ZM8.75,18.375C8.75,18.375,12.25,18.375,12.25,18.375C12.25,18.375,12.25,11.375,12.25,11.375C12.25,11.375,8.75,11.375,8.75,11.375C8.75,11.375,8.75,18.375,8.75,18.375C8.75,18.375,8.75,18.375,8.75,18.375ZM14,18.375C14,18.375,14,10.5,14,10.5C14,10.01674,13.6083,9.625,13.125,9.625C13.125,9.625,7.875,9.625,7.875,9.625C7.39176,9.625,7,10.01674,7,10.5C7,10.5,7,18.375,7,18.375C7,18.375,4.375,18.375,4.375,18.375C4.14293,18.375,3.92038,18.2828,3.75628,18.1187C3.59219,17.9547,3.5,17.732,3.5,17.5C3.5,17.5,3.5,8.30295,3.5,8.30295C3.5,8.30295,10.5,2.8585000000000003,10.5,2.8585000000000003C10.5,2.8585000000000003,17.5,8.30295,17.5,8.30295C17.5,8.30295,17.5,17.5,17.5,17.5C17.5,17.732,17.4078,17.9547,17.2437,18.1187C17.0796,18.2828,16.857,18.375,16.625,18.375C16.625,18.375,14,18.375,14,18.375C14,18.375,14,18.375,14,18.375Z" fill-rule="evenodd" fill="#373737" fill-opacity="1"/></g></g></svg>
          <div class="title">Home</div>
        </div>
        <div class="navbar_item" onclick="window.location='/blog.html'"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none" version="1.1" width="20" height="19.999996185302734" viewBox="0 0 20 19.999996185302734"><defs><clipPath id="master_svg0_9_0228"><rect x="0" y="0" width="20" height="19.999996185302734" rx="0"/></clipPath></defs><g clip-path="url(#master_svg0_9_0228)"><g><path d="M8.751776494140625,1.1689671196289062C9.131386494140624,0.9502141196289062,9.561826494140625,0.8350601196289062,9.999986494140625,0.8350601196289062C10.438156494140625,0.8350601196289062,10.868656494140625,0.9502231196289063,11.248236494140626,1.1689931196289063C11.248826494140625,1.1693271196289063,11.249406494140626,1.1696621196289063,11.249986494140625,1.1699971196289063C11.249986494140625,1.1699971196289063,17.083356494140624,4.503320119628906,17.083356494140624,4.503320119628906C17.391656494140626,4.681330119628907,17.657556494140625,4.922640119628906,17.864056494140623,5.210320119628906C17.914356494140623,5.260630119628906,17.958956494140626,5.318250119628906,17.996356494140624,5.3827501196289065C18.028456494140624,5.438300119628907,18.053456494140626,5.496030119628906,18.071656494140626,5.5548601196289065C18.243056494140625,5.899420119628906,18.332956494140625,6.279580119628906,18.333356494140624,6.6658301196289065C18.333356494140624,6.6658301196289065,18.333356494140624,13.334260119628906,18.333356494140624,13.334260119628906C18.332956494140625,13.772660119628906,18.217156494140625,14.203260119628906,17.997756494140624,14.582760119628906C17.778356494140624,14.962260119628906,17.462956494140627,15.277460119628905,17.083356494140624,15.496760119628906C17.083356494140624,15.496760119628906,17.080056494140624,15.498560119628907,17.080056494140624,15.498560119628907C17.080056494140624,15.498560119628907,11.249986494140625,18.830060119628907,11.249986494140625,18.830060119628907C11.249486494140625,18.830260119628907,11.248986494140626,18.830660119628906,11.248486494140625,18.830860119628905C10.984156494140626,18.983360119628905,10.695156494140624,19.085360119628906,10.396076494140624,19.133360119628907C10.278236494140625,19.197160119628908,10.143326494140625,19.233260119628905,9.999986494140625,19.233260119628905C9.856636494140625,19.233260119628905,9.721736494140625,19.197160119628908,9.603936494140626,19.133360119628907C9.304856494140626,19.085360119628906,9.015866494140624,18.983360119628905,8.751536494140625,18.830860119628905C8.751016494140625,18.830660119628906,8.750506494140625,18.830260119628907,8.749986494140625,18.830060119628907C8.749986494140625,18.830060119628907,2.919876494140625,15.498560119628907,2.919876494140625,15.498560119628907C2.919876494140625,15.498560119628907,2.916656494140625,15.496760119628906,2.916656494140625,15.496760119628906C2.5369814941406252,15.277460119628905,2.2216314941406248,14.962260119628906,2.002233494140625,14.582760119628906C1.7828344941406251,14.203260119628906,1.667106162140625,13.772660119628906,1.666656494140625,13.334260119628906C1.666656494140625,13.334260119628906,1.666656494140625,6.6658301196289065,1.666656494140625,6.6658301196289065C1.667052666140625,6.279580119628906,1.756926494140625,5.899420119628906,1.928339494140625,5.5548601196289065C1.946502494140625,5.496030119628906,1.9715114941406249,5.438310119628906,2.003649494140625,5.3827501196289065C2.040960494140625,5.318250119628906,2.085593494140625,5.260630119628906,2.135889494140625,5.210320119628906C2.342436494140625,4.922640119628906,2.6083394941406253,4.681330119628907,2.916656494140625,4.503330119628906C2.916656494140625,4.503330119628906,2.919876494140625,4.501480119628907,2.919876494140625,4.501480119628907C2.919876494140625,4.501480119628907,5.6271364941406254,2.954470119628906,5.6271364941406254,2.954470119628906C5.750126494140625,2.8158901196289063,5.913476494140625,2.725430119628906,6.088586494140625,2.6907901196289066C6.088586494140625,2.6907901196289066,8.751776494140625,1.1689671196289062,8.751776494140625,1.1689671196289062C8.751776494140625,1.1689671196289062,8.751776494140625,1.1689671196289062,8.751776494140625,1.1689671196289062ZM6.291646494140625,4.494340119628906C6.291646494140625,4.494340119628906,4.199146494140625,5.690050119628906,4.199146494140625,5.690050119628906C4.199146494140625,5.690050119628906,9.999986494140625,9.045630119628907,9.999986494140625,9.045630119628907C9.999986494140625,9.045630119628907,12.088756494140625,7.837350119628907,12.088756494140625,7.837350119628907C12.088756494140625,7.837350119628907,6.291646494140625,4.494340119628906,6.291646494140625,4.494340119628906C6.291646494140625,4.494340119628906,6.291646494140625,4.494340119628906,6.291646494140625,4.494340119628906ZM13.754356494140625,6.873890119628906C13.754356494140625,6.873890119628906,7.967406494140625,3.5367601196289065,7.967406494140625,3.5367601196289065C7.967406494140625,3.5367601196289065,9.580106494140626,2.615220119628906,9.580106494140626,2.615220119628906C9.580106494140626,2.615220119628906,9.583326494140625,2.6133701196289065,9.583326494140625,2.6133701196289065C9.710006494140625,2.540240119628906,9.853706494140624,2.501730119628906,9.999986494140625,2.501730119628906C10.146236494140625,2.501730119628906,10.289986494140624,2.540240119628906,10.416656494140625,2.6133701196289065C10.416656494140625,2.6133701196289065,15.800856494140625,5.690050119628906,15.800856494140625,5.690050119628906C15.800856494140625,5.690050119628906,13.754356494140625,6.873890119628906,13.754356494140625,6.873890119628906C13.754356494140625,6.873890119628906,13.754356494140625,6.873890119628906,13.754356494140625,6.873890119628906ZM16.666656494140625,7.114630119628906C16.666656494140625,7.114630119628906,10.833326494140625,10.488980119628906,10.833326494140625,10.488980119628906C10.833326494140625,10.488980119628906,10.833326494140625,17.148560119628907,10.833326494140625,17.148560119628907C10.833326494140625,17.148560119628907,16.249956494140626,14.053360119628906,16.249956494140626,14.053360119628906C16.250356494140625,14.053060119628906,16.250956494140624,14.052860119628907,16.251356494140623,14.052560119628906C16.377256494140624,13.979560119628907,16.481856494140626,13.874760119628906,16.554856494140623,13.748660119628907C16.627956494140626,13.622160119628907,16.666456494140625,13.478660119628906,16.666656494140625,13.332460119628907C16.666656494140625,13.332460119628907,16.666656494140625,7.114630119628906,16.666656494140625,7.114630119628906C16.666656494140625,7.114630119628906,16.666656494140625,7.114630119628906,16.666656494140625,7.114630119628906ZM9.166656494140625,17.148560119628907C9.166656494140625,17.148560119628907,9.166656494140625,10.488980119628906,9.166656494140625,10.488980119628906C9.166656494140625,10.488980119628906,3.333326494140625,7.114630119628906,3.333326494140625,7.114630119628906C3.333326494140625,7.114630119628906,3.333326494140625,13.332860119628906,3.333326494140625,13.332860119628906C3.333536494140625,13.478860119628907,3.372106494140625,13.622260119628907,3.4451764941406253,13.748660119628907C3.518066494140625,13.874760119628906,3.6227064941406253,13.979560119628907,3.748676494140625,14.052560119628906C3.749116494140625,14.052860119628907,3.749546494140625,14.053060119628906,3.749986494140625,14.053360119628906C3.749986494140625,14.053360119628906,9.166656494140625,17.148560119628907,9.166656494140625,17.148560119628907C9.166656494140625,17.148560119628907,9.166656494140625,17.148560119628907,9.166656494140625,17.148560119628907Z" fill-rule="evenodd" fill="#373737" fill-opacity="1"/></g></g></svg>
          <div class="title">Blog</div>
        </div>
        <div class="dark_mode switch_visual_mode_button"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none" version="1.1" width="24" height="23.999996185302734" viewBox="0 0 24 23.999996185302734"><defs><clipPath id="master_svg0_9_0221"><rect x="0" y="0" width="24" height="23.999996185302734" rx="0"/></clipPath></defs><g clip-path="url(#master_svg0_9_0221)"><g><path d="M12,0C12.5523,0,13,0.447715,13,1C13,1,13,3,13,3C13,3.55228,12.5523,4,12,4C11.4477,4,11,3.55228,11,3C11,3,11,1,11,1C11,0.447715,11.4477,0,12,0C12,0,12,0,12,0ZM3.51289,3.51289C3.90342,3.12237,4.53658,3.12237,4.92711,3.51289C4.92711,3.51289,6.34711,4.93289,6.34711,4.93289C6.73763,5.32342,6.73763,5.95658,6.34711,6.34711C5.95658,6.73763,5.32342,6.73763,4.93289,6.34711C4.93289,6.34711,3.51289,4.92711,3.51289,4.92711C3.12237,4.53658,3.12237,3.90342,3.51289,3.51289C3.51289,3.51289,3.51289,3.51289,3.51289,3.51289ZM20.4871,3.51289C20.8776,3.90342,20.8776,4.53658,20.4871,4.92711C20.4871,4.92711,19.0671,6.34711,19.0671,6.34711C18.6766,6.73763,18.0434,6.73763,17.6529,6.34711C17.2624,5.95658,17.2624,5.32342,17.6529,4.93289C17.6529,4.93289,19.0729,3.51289,19.0729,3.51289C19.4634,3.12237,20.0966,3.12237,20.4871,3.51289C20.4871,3.51289,20.4871,3.51289,20.4871,3.51289ZM12,8C9.79086,8,8,9.79086,8,12C8,14.2091,9.79086,16,12,16C14.2091,16,16,14.2091,16,12C16,9.79086,14.2091,8,12,8C12,8,12,8,12,8ZM6,12C6,8.68629,8.68629,6,12,6C15.3137,6,18,8.68629,18,12C18,15.3137,15.3137,18,12,18C8.68629,18,6,15.3137,6,12C6,12,6,12,6,12ZM0,12C0,11.4477,0.447715,11,1,11C1,11,3,11,3,11C3.55228,11,4,11.4477,4,12C4,12.5523,3.55228,13,3,13C3,13,1,13,1,13C0.447715,13,0,12.5523,0,12C0,12,0,12,0,12ZM20,12C20,11.4477,20.4477,11,21,11C21,11,23,11,23,11C23.5523,11,24,11.4477,24,12C24,12.5523,23.5523,13,23,13C23,13,21,13,21,13C20.4477,13,20,12.5523,20,12C20,12,20,12,20,12ZM6.34711,17.6529C6.73763,18.0434,6.73763,18.6766,6.34711,19.0671C6.34711,19.0671,4.92711,20.4871,4.92711,20.4871C4.53658,20.8776,3.90342,20.8776,3.51289,20.4871C3.12237,20.0966,3.12237,19.4634,3.51289,19.0729C3.51289,19.0729,4.93289,17.6529,4.93289,17.6529C5.32342,17.2624,5.95658,17.2624,6.34711,17.6529C6.34711,17.6529,6.34711,17.6529,6.34711,17.6529ZM17.6529,17.6529C18.0434,17.2624,18.6766,17.2624,19.0671,17.6529C19.0671,17.6529,20.4871,19.0729,20.4871,19.0729C20.8776,19.4634,20.8776,20.0966,20.4871,20.4871C20.0966,20.8776,19.4634,20.8776,19.0729,20.4871C19.0729,20.4871,17.6529,19.0671,17.6529,19.0671C17.2624,18.6766,17.2624,18.0434,17.6529,17.6529C17.6529,17.6529,17.6529,17.6529,17.6529,17.6529ZM12,20C12.5523,20,13,20.4477,13,21C13,21,13,23,13,23C13,23.5523,12.5523,24,12,24C11.4477,24,11,23.5523,11,23C11,23,11,21,11,21C11,20.4477,11.4477,20,12,20C12,20,12,20,12,20Z" fill-rule="evenodd" fill="#373737" fill-opacity="1"/></g></g></svg>
</div>
      </div>
    </div>
    <div><span class="head_cover"><img src="/assets/resources/head_cover.png"></span></div>
    <div class="contents">
      <div class="page_description">
        <h1 class="title">☁️ UI 设计与开发经验 [Unity] 2023.2.8 版</h1>
        <div class="sub_info">
          <p class="date">2023-02-08</p>
          <p class="type">Dev</p>
        </div>
      </div>
      <div class="page_contents">
        <h1>
          <t>前言：</t>
        </h1>
        <blockquote>
          <t>自己是一名游戏开发进修中的学生，被朋友提醒，决定总结一下自己做游戏开发中的 UI 设计和开发经验，供自己快速回顾，也给在苦恼相同问题的伙伴一些参考。自己没有从业经验，本篇文章请当做无专业性的文章看待。如果有前辈能够给予指点，不甚感激。</t>
        </blockquote>
        <p></p>
        <p>
          <t>本篇聚焦于视觉交互设计，包含 GUI 及其动效的设计和开发。</t>
        </p>
        <h1>
          <t>〇、自己的 UI 设计流程</t>
        </h1>
        <h2>
          <t>1. 在平面设计软件制作 UI 保真图</t>
        </h2>
        <h2>
          <t>2. 导出 UI 所需的图像素材</t>
        </h2>
        <p>
          <t>请将大小导出为 2^n（为了压缩），并最好使单位像素大小一致。</t>
        </p>
        <h2>
          <t>3. 在 Unity 中制作 UI</t>
        </h2>
        <p>
          <t>请见下文↓</t>
        </p>
        <h1>
          <t>一、在 Unity 中制作 UI（UGUI）</t>
        </h1>
        <h2>
          <t>Unity 中 GUI 对象管理</t>
        </h2>
        <p>
          <t>一般自己针对一个使用场景会写一个 </t>
          <t class="code">xxUIManager</t>
          <t> ，以单例模式存在，这里包含 GUI 的所有（有需的）GUI 对象引用、会触发事件（退出、重新开始等）。</t>
        </p>
        <p>
          <t class="code">xxUIManager</t>
          <t> 最终会挂在一个 Canvas 下，再将该 Canvas 存为预制体，修改只需修改预制体即可。</t>
        </p>
        <p>
          <t>以下为例：</t>
        </p>
        <p>
          <t>当某个面板的功能过多时，可能会将对一个面板的操作封装成一个脚本，挂在对应面板下。</t>
        </p>
        <p>
          <t class="code">xxUIManager</t>
          <t> 和面板的脚本下的物体引用通常会暴露给外部对象，但通常不会在外部对象中进行操作。外部对象对</t>
          <t class="code">xxUIManager</t>
          <t>下子物体的操作尽可能封装成方法，供外部调用。</t>
        </p>
        <p></p>
        <h2>
          <t>自定义 UI 组件 与 CustomEditor 与 预制体</t>
        </h2>
        <h3>
          <t>编写自己的 UI 组件</t>
        </h3>
        <p>
          <t>很多时候 Unity 自带的 UI 组件完全不能满足自己的需求，此时会自己写 UI 脚本，继承 IPointerClickHandler, IPointerDownHandler, Up, Enter, Exit… 等常用的事件。</t>
        </p>
        <blockquote>
          <t>我还没有做过兼容手柄的菜单，所以此处肯定是忽略了兼容手柄选择的情况。
对兼容手柄有需求的读者或许可以阅读 Selectable 类。</t>
        </blockquote>
        <h3>
          <t>自定义 Inspector ( CustomEditor ) 方便地修改预制体参数</t>
        </h3>
        <p>
          <t>写好 UI 脚本后使用 CustomEditor 调整 UI 是十分方便的事。</t>
        </p>
        <p>
          <t>不过使用预制体时使用 Editor 会出现无法将改变的参数保存的问题，自己找了一些地方找到了解决方案。 Editor 类：</t>
        </p>
        <h2>
          <t>资源文件管理</t>
        </h2>
        <p>
          <t>自己对 UI 的资源文件通常不会单开一个文件夹，而是放在对应种类的文件夹下方的</t>
          <t class="code"> ~/UI/</t>
          <t> 目录下。</t>
        </p>
        <p>
          <t>自己通常会用 </t>
          <t class="code">&lt;文件类型[小写]&gt;(_&lt;细分类型[小写]&gt;)_&lt;文件名称[大写驼峰]&gt;</t>
          <t>  的方式命名资源文件。对于 UI 的资源文件，例子是 </t>
          <t class="code">spr_ui_HelloWorld</t>
          <t> ，其中 spr 代表 Sprite，ui 代表 UI，HelloWorld 是文件名。对于其它资源，命名方式同理，如预制体用 p_，状态机用 ant_，动画用 an_ 等，缩写的选择取决于自己和伙伴的认知。</t>
        </p>
        <h2>
          <t>精灵图的注意事项</t>
        </h2>
        <p>
          <t>对于用于 UI 的精灵图，建议将 Mipmap 关掉，（按需）将 Wrap Mode 改为 Clamp，这两者可能导致 UI 边缘出现错误的边线。</t>
        </p>
        <p>
          <t>导入资源时设置资源属性可阅读：</t>
        </p>
        <p></p>
        <h1>
          <t>二、动效</t>
        </h1>
        <p>
          <t>自己实现动效的方法可以不严谨地分为三类：</t>
        </p>
        <h2>
          <t>1. DoTween：功能完整、使用方便</t>
        </h2>
        <blockquote>
          <t>有些学习成本、管理复杂</t>
        </blockquote>
        <p>
          <t>DOTween 的官网：</t>
        </p>
        <p>
          <t>一个 DOTween 系列教程：</t>
        </p>
        <p>
          <t>各种动画曲线一览：</t>
        </p>
        <h2>
          <t>2. 自己写个 Tweener：灵活可控，支持打断动画</t>
        </h2>
        <blockquote>
          <t>数学基础是插值，推荐视频</t>
        </blockquote>
        <p>
          <t>在用 DOTween 时发现管理动画打断很不方便，会出现动画突然闪到终点的情况等等；另一方面，在场景切换或物体销毁时，物体的动画没有播放完，DOTween 也会给出安全模式警告。</t>
        </p>
        <p>
          <t>于是就自己实现一个可以随时打断和返程的 Tweener（与 DOTween 中的 Tweener 无关）</t>
        </p>
        <p>
          <t>我们实现一个类：</t>
        </p>
        <p>
          <t> 之后我们在自己的 </t>
          <t class="code">MonoBehaviour</t>
          <t> 中使用：</t>
        </p>
        <p>
          <t>Inspector：</t>
        </p>
        <p>
          <t>效果：</t>
        </p>
        <p>
          <t>自己编写 Tweener 的可控性高却繁琐，单程动画自己一般会用 DoTween 实现。</t>
        </p>
        <p>
          <t>*我想 DOTween 也是有实现可打断动画的方法的，自己应该学习一下。//不过自己造轮子快乐啊</t>
        </p>
        <h2>
          <t>3. 无限趋近式：编写快捷、适应性高</t>
        </h2>
        <blockquote>
          <t>动画形式单一、可控性差、无法达到目标值</t>
        </blockquote>
        <p>
          <t>在一次 Ludum Dare 的作品中我用了这个方法实现卡牌动画</t>
        </p>
        <p>
          <t>无限趋近式的意思是，让希望改变的参数的实际值无限趋近这个目标值。</t>
        </p>
        <p>
          <t>以缩放为例，我们设定一个物体缩放的目标值，然后让实际值无限趋近这个目标值：</t>
        </p>
        <p>
          <t class="code">speed</t>
          <t> 是趋近的速度，在 0 ~ 1 之间。在 Update 中调用的话，记得将</t>
          <t class="code">speed</t>
          <t> 乘上 </t>
          <t class="code">Time.deltaTime</t>
          <t> .</t>
        </p>
        <p>
          <t>这种方法会导致物体永远无法达到目标值，动画的停用也需要用差值进行检测。但其管理和实现都很简单，2D 相机跟踪物体用这种方式实现十分方便。</t>
        </p>
        <p></p>
        <h1>
          <t>后记：</t>
        </h1>
        <p>
          <t>回顾一下，发现自己做完的可玩的游戏都是 Game Jam 作品。自己在私下幻想和开发的游戏不便展示，完成度也拿不出手。所以本篇文章的 UI 美术都是 Game Jam 的快速生产内容，一定有许多不标准的地方。</t>
        </p>
        <p>
          <t>做 UI 是自己喜欢的一件事，自己一有游戏想法，第一件事就是去做 UI，自己做了不少游戏的 UI，结果游戏却没怎么动工过w。若有机会，愿意结识更多的伙伴，去做些有趣好看的游戏。</t>
        </p>
      </div>
    </div>
  </body>
</html>
